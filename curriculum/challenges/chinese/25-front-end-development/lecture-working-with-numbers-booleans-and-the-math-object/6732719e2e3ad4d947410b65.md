---
id: 6732719e2e3ad4d947410b65
title: 运算符优先级是如何工作的？
challengeType: 11
videoId: pnXCNw4fCyU
dashedName: how-does-operator-precedence-work
---

# --description--

观看视频或阅读文字稿并回答下列问题。

# --transcript--

运算符优先级是如何工作的？

如果你在 JavaScript 中编写包含多个运算符的表达式，JavaScript 如何决定先计算哪一个？这就是运算符优先级的作用。让我们通过代码示例详细探讨运算符优先级，以及当运算符具有相同优先级时会发生什么。

运算符优先级决定了表达式中各个操作的计算顺序。优先级高的运算符会先被计算，优先级低的后计算。你可以把运算符优先级想象成数学中的运算顺序，比如乘法和除法总是在加法和减法之前进行。

如果不遵循这个规则，基本的等式就会得出错误的答案。JavaScript 也是如此。它有自己的规则来决定哪个运算符先执行。例如，看看下面这个表达式：

```js
const result = 2 + 3 * 4;

console.log(result); // 14
```

如果 JavaScript 从左到右依次计算这个表达式，你可能会认为 `2 + 3 = 5`，然后 `5 * 4 = 20`。但由于乘法的优先级高于加法，JavaScript 会先计算 `3 * 4`，结果是 `2 + 12 = 14`。

有时，你可能希望表达式中的某些部分无论优先级如何都先执行。这时可以使用括号 `()`。括号内的内容总是最先被计算的。让我们让上例中的 `2 + 3` 先计算：

```js
const result = (2 + 3) * 4;

console.log(result); // 20
```

在上面的例子中，括号强制 JavaScript 先计算 `2 + 3`，然后再乘以 `4`。这样结果就是 `20` 而不是 `14`。

除法运算符的优先级也高于加法或减法：

```js
const result = 2 + 6 / 3;

console.log(result); // 4
```

如果 JavaScript 从左到右依次计算，你可能会认为 `2 + 6 = 8`，然后 `8 / 3 = 2.67`。但由于除法优先级高于加法，JavaScript 会先计算 `6 / 3 = 2`，然后再加上 `2 + 2`，结果为 `4`。

所以，无论是乘法还是除法，这些操作总是在加法和减法之前进行，除非你用括号改变顺序。那么如果运算符优先级相同会怎样？JavaScript 会用结合性（associativity）来决定计算顺序。

结合性决定了 JavaScript 是从左到右还是从右到左计算运算符。对于大多数运算符，比如加法和乘法，结合性是从左到右。因此，JavaScript 会从表达式最左边开始依次计算：

```js
const result = 10 - 2 + 3;

console.log(result); // 11
```

首先，`10 - 2 = 8`，然后 `8 + 3 = 11`。JavaScript 在这种情况下是从左到右计算的。有些运算符，比如赋值（`=`），是从右到左结合的。这意味着表达式右侧会先被计算：

```js
let a, b;
a = b = 5;

console.log(a); // 5
console.log(b); // 5
console.log(a + b); // 10
```

在上面的例子中，JavaScript 先把 `5` 赋值给 `b`，然后再把 `b`（现在是 `5`）赋值给 `a`。

幂运算符也是从右到左结合的：

```js
const result = 2 ** 3 ** 2;

console.log(result); // 512
```

首先，JavaScript 计算 `3 ** 2`，结果为 `9`，然后计算 `2 ** 9`，结果为 `512`。如果幂运算符是从左到右结合，JavaScript 会先计算 `2 ** 3 = 8`，然后 `8 ** 2 = 64`。

# --questions--

## --text--

JavaScript 中的运算符优先级与数学中的运算顺序有何相似之处？

## --answers--

加法在乘法和除法之前进行。

### --feedback--

想一想你在数学等式中遵循的运算顺序。

---

除法和乘法在加法和减法之前进行，就像在数学中一样。

---

所有操作都按出现顺序依次执行。

### --feedback--

想一想你在数学等式中遵循的运算顺序。

---

减法优先于所有其他操作。

### --feedback--

想一想你在数学等式中遵循的运算顺序。

## --video-solution--

2

## --text--

你如何在 JavaScript 中改变运算符优先级？

## --answers--

通过使用加号运算符（`+`）改变运算顺序。

### --feedback--

想一想你在数学等式中是如何改变运算顺序的。

---

通过使用括号强制表达式的某些部分先被计算。

---

通过反转表达式中的运算符。

### --feedback--

想一想你在数学等式中是如何改变运算顺序的。

---

无论优先级如何，都从左到右依次执行所有操作。

### --feedback--

想一想你在数学等式中是如何改变运算顺序的。

## --video-solution--

2

## --text--

JavaScript 如何计算带有幂运算符（`**`）的表达式？

## --answers--

从左到右。

### --feedback--

想一想表达式中幂运算的计算顺序。

---

从右到左，也就是说先计算最右边的幂运算。

---

先将指数相加，然后计算结果。

### --feedback--

想一想表达式中幂运算的计算顺序。

---

通过将底数自乘指定的次数来计算。

### --feedback--

想一想表达式中幂运算的计算顺序。

## --video-solution--

2

